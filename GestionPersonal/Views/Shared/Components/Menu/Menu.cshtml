@model IEnumerable<GPSInformation.Models.Modulo>

@foreach (var item in Model)
{ 
    if (item.SubModulos.Count > 0)
    {
        <li class="nav-item @Html.Raw(item.SubModulos.Where(a => a.Activemenu).ToList().Count > 0 ? "show" : "")">
            <a href="" class="nav-link with-sub @Html.Raw(item.SubModulos.Where(a => a.Activemenu).ToList().Count > 0 ? "active" : "")">
                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather feather-layers">
                    <polygon points="12 2 2 7 12 12 22 7 12 2"></polygon>
                    <polyline points="2 17 12 22 22 17"></polyline>
                    <polyline points="2 12 12 17 22 12"></polyline>
                </svg>@item.Nombre
            </a>
            <nav class="nav">
                @foreach (var sub in item.SubModulos)
                {
                    if (sub.AccesosSistema.TieneAcceso)
                    {
                        if (sub.Activemenu)
                        {
                            <a href="@Url.Action(sub.Accion,sub.Controllador)" class="active">@sub.Nombre</a>
                        }
                        else
                        {
                            <a href="@Url.Action(sub.Accion,sub.Controllador)">@sub.Nombre</a>
                        }
                    }
                }

            </nav>
        </li>
    }
}
